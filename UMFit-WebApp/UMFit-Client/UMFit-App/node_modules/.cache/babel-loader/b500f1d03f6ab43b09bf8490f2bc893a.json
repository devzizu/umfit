{"ast":null,"code":"import { __awaiter, __generator, __spreadArrays } from \"tslib\";\nimport { b as config } from './config-3c7f3790.js';\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button-1ed0083a.js';\nvar lastId = 0;\nvar activeAnimations = new WeakMap();\n\nvar createController = function createController(tagName) {\n  return {\n    create: function create(options) {\n      return createOverlay(tagName, options);\n    },\n    dismiss: function dismiss(data, role, id) {\n      return dismissOverlay(document, data, role, tagName, id);\n    },\n    getTop: function getTop() {\n      return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          return [2\n          /*return*/\n          , getOverlay(document, tagName)];\n        });\n      });\n    }\n  };\n};\n\nvar alertController = /*@__PURE__*/createController('ion-alert');\nvar actionSheetController = /*@__PURE__*/createController('ion-action-sheet');\nvar loadingController = /*@__PURE__*/createController('ion-loading');\nvar modalController = /*@__PURE__*/createController('ion-modal');\nvar pickerController = /*@__PURE__*/createController('ion-picker');\nvar popoverController = /*@__PURE__*/createController('ion-popover');\nvar toastController = /*@__PURE__*/createController('ion-toast');\n\nvar prepareOverlay = function prepareOverlay(el) {\n  var doc = document;\n  connectListeners(doc);\n  var overlayIndex = lastId++;\n  el.overlayIndex = overlayIndex;\n\n  if (!el.hasAttribute('id')) {\n    el.id = \"ion-overlay-\" + overlayIndex;\n  }\n};\n\nvar createOverlay = function createOverlay(tagName, opts) {\n  return customElements.whenDefined(tagName).then(function () {\n    var doc = document;\n    var element = doc.createElement(tagName);\n    element.classList.add('overlay-hidden'); // convert the passed in overlay options into props\n    // that get passed down into the new overlay\n\n    Object.assign(element, opts); // append the overlay element to the document body\n\n    getAppRoot(doc).appendChild(element);\n    return element.componentOnReady();\n  });\n};\n\nvar connectListeners = function connectListeners(doc) {\n  if (lastId === 0) {\n    lastId = 1; // trap focus inside overlays\n\n    doc.addEventListener('focusin', function (ev) {\n      var lastOverlay = getOverlay(doc);\n\n      if (lastOverlay && lastOverlay.backdropDismiss && !isDescendant(lastOverlay, ev.target)) {\n        var firstInput = lastOverlay.querySelector('input,button');\n\n        if (firstInput) {\n          firstInput.focus();\n        }\n      }\n    }); // handle back-button click\n\n    doc.addEventListener('ionBackButton', function (ev) {\n      var lastOverlay = getOverlay(doc);\n\n      if (lastOverlay && lastOverlay.backdropDismiss) {\n        ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, function () {\n          return lastOverlay.dismiss(undefined, BACKDROP);\n        });\n      }\n    }); // handle ESC to close overlay\n\n    doc.addEventListener('keyup', function (ev) {\n      if (ev.key === 'Escape') {\n        var lastOverlay = getOverlay(doc);\n\n        if (lastOverlay && lastOverlay.backdropDismiss) {\n          lastOverlay.dismiss(undefined, BACKDROP);\n        }\n      }\n    });\n  }\n};\n\nvar dismissOverlay = function dismissOverlay(doc, data, role, overlayTag, id) {\n  var overlay = getOverlay(doc, overlayTag, id);\n\n  if (!overlay) {\n    return Promise.reject('overlay does not exist');\n  }\n\n  return overlay.dismiss(data, role);\n};\n\nvar getOverlays = function getOverlays(doc, selector) {\n  if (selector === undefined) {\n    selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\n  }\n\n  return Array.from(doc.querySelectorAll(selector)).filter(function (c) {\n    return c.overlayIndex > 0;\n  });\n};\n\nvar getOverlay = function getOverlay(doc, overlayTag, id) {\n  var overlays = getOverlays(doc, overlayTag);\n  return id === undefined ? overlays[overlays.length - 1] : overlays.find(function (o) {\n    return o.id === id;\n  });\n};\n\nvar present = function present(overlay, name, iosEnterAnimation, mdEnterAnimation, opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, completed;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (overlay.presented) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          overlay.presented = true;\n          overlay.willPresent.emit();\n          animationBuilder = overlay.enterAnimation ? overlay.enterAnimation : config.get(name, overlay.mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\n          return [4\n          /*yield*/\n          , overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\n\n        case 1:\n          completed = _a.sent();\n\n          if (completed) {\n            overlay.didPresent.emit();\n          }\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar dismiss = function dismiss(overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, err_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!overlay.presented) {\n            return [2\n            /*return*/\n            , false];\n          }\n\n          overlay.presented = false;\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 4,, 5]);\n\n          overlay.willDismiss.emit({\n            data: data,\n            role: role\n          });\n          animationBuilder = overlay.leaveAnimation ? overlay.leaveAnimation : config.get(name, overlay.mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\n          if (!(role !== 'gesture')) return [3\n          /*break*/\n          , 3];\n          return [4\n          /*yield*/\n          , overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\n\n        case 2:\n          _a.sent();\n\n          _a.label = 3;\n\n        case 3:\n          overlay.didDismiss.emit({\n            data: data,\n            role: role\n          });\n          activeAnimations.delete(overlay);\n          return [3\n          /*break*/\n          , 5];\n\n        case 4:\n          err_1 = _a.sent();\n          console.error(err_1);\n          return [3\n          /*break*/\n          , 5];\n\n        case 5:\n          overlay.el.remove();\n          return [2\n          /*return*/\n          , true];\n      }\n    });\n  });\n};\n\nvar getAppRoot = function getAppRoot(doc) {\n  return doc.querySelector('ion-app') || doc.body;\n};\n\nvar overlayAnimation = function overlayAnimation(overlay, animationBuilder, baseEl, opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var aniRoot, animation, activeAni;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          // Make overlay visible in case it's hidden\n          baseEl.classList.remove('overlay-hidden');\n          aniRoot = baseEl.shadowRoot || overlay.el;\n          animation = animationBuilder(aniRoot, opts);\n\n          if (!overlay.animated || !config.getBoolean('animated', true)) {\n            animation.duration(0);\n          }\n\n          if (overlay.keyboardClose) {\n            animation.beforeAddWrite(function () {\n              var activeElement = baseEl.ownerDocument.activeElement;\n\n              if (activeElement && activeElement.matches('input, ion-input, ion-textarea')) {\n                activeElement.blur();\n              }\n            });\n          }\n\n          activeAni = activeAnimations.get(overlay) || [];\n          activeAnimations.set(overlay, __spreadArrays(activeAni, [animation]));\n          return [4\n          /*yield*/\n          , animation.play()];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          , true];\n      }\n    });\n  });\n};\n\nvar eventMethod = function eventMethod(element, eventName) {\n  var resolve;\n  var promise = new Promise(function (r) {\n    return resolve = r;\n  });\n  onceEvent(element, eventName, function (event) {\n    resolve(event.detail);\n  });\n  return promise;\n};\n\nvar onceEvent = function onceEvent(element, eventName, callback) {\n  var handler = function handler(ev) {\n    element.removeEventListener(eventName, handler);\n    callback(ev);\n  };\n\n  element.addEventListener(eventName, handler);\n};\n\nvar isCancel = function isCancel(role) {\n  return role === 'cancel' || role === BACKDROP;\n};\n\nvar isDescendant = function isDescendant(parent, child) {\n  while (child) {\n    if (child === parent) {\n      return true;\n    }\n\n    child = child.parentElement;\n  }\n\n  return false;\n};\n\nvar defaultGate = function defaultGate(h) {\n  return h();\n};\n\nvar safeCall = function safeCall(handler, arg) {\n  if (typeof handler === 'function') {\n    var jmp = config.get('_zoneGate', defaultGate);\n    return jmp(function () {\n      try {\n        return handler(arg);\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n\n  return undefined;\n};\n\nvar BACKDROP = 'backdrop';\nexport { BACKDROP as B, alertController as a, actionSheetController as b, popoverController as c, prepareOverlay as d, present as e, dismiss as f, eventMethod as g, activeAnimations as h, isCancel as i, loadingController as l, modalController as m, pickerController as p, safeCall as s, toastController as t };","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/node_modules/@ionic/core/dist/esm-es5/overlays-e336664a.js"],"names":["__awaiter","__generator","__spreadArrays","b","config","OVERLAY_BACK_BUTTON_PRIORITY","lastId","activeAnimations","WeakMap","createController","tagName","create","options","createOverlay","dismiss","data","role","id","dismissOverlay","document","getTop","_a","getOverlay","alertController","actionSheetController","loadingController","modalController","pickerController","popoverController","toastController","prepareOverlay","el","doc","connectListeners","overlayIndex","hasAttribute","opts","customElements","whenDefined","then","element","createElement","classList","add","Object","assign","getAppRoot","appendChild","componentOnReady","addEventListener","ev","lastOverlay","backdropDismiss","isDescendant","target","firstInput","querySelector","focus","detail","register","undefined","BACKDROP","key","overlayTag","overlay","Promise","reject","getOverlays","selector","Array","from","querySelectorAll","filter","c","overlays","length","find","o","present","name","iosEnterAnimation","mdEnterAnimation","animationBuilder","completed","label","presented","willPresent","emit","enterAnimation","get","mode","overlayAnimation","sent","didPresent","iosLeaveAnimation","mdLeaveAnimation","err_1","trys","push","willDismiss","leaveAnimation","didDismiss","delete","console","error","remove","body","baseEl","aniRoot","animation","activeAni","shadowRoot","animated","getBoolean","duration","keyboardClose","beforeAddWrite","activeElement","ownerDocument","matches","blur","set","play","eventMethod","eventName","resolve","promise","r","onceEvent","event","callback","handler","removeEventListener","isCancel","parent","child","parentElement","defaultGate","h","safeCall","arg","jmp","e","B","a","d","f","g","i","l","m","p","s","t"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,cAAjC,QAAuD,OAAvD;AACA,SAASC,CAAC,IAAIC,MAAd,QAA4B,sBAA5B;AACA,SAASC,4BAAT,QAA6C,oCAA7C;AACA,IAAIC,MAAM,GAAG,CAAb;AACA,IAAIC,gBAAgB,GAAG,IAAIC,OAAJ,EAAvB;;AACA,IAAIC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUC,OAAV,EAAmB;AACtC,SAAO;AACHC,IAAAA,MAAM,EAAE,gBAAUC,OAAV,EAAmB;AACvB,aAAOC,aAAa,CAACH,OAAD,EAAUE,OAAV,CAApB;AACH,KAHE;AAIHE,IAAAA,OAAO,EAAE,iBAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,EAAtB,EAA0B;AAC/B,aAAOC,cAAc,CAACC,QAAD,EAAWJ,IAAX,EAAiBC,IAAjB,EAAuBN,OAAvB,EAAgCO,EAAhC,CAArB;AACH,KANE;AAOHG,IAAAA,MAAM,EAAE,kBAAY;AAChB,aAAOpB,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,eAAOC,WAAW,CAAC,IAAD,EAAO,UAAUoB,EAAV,EAAc;AACnC,iBAAO,CAAC;AAAE;AAAH,YAAeC,UAAU,CAACH,QAAD,EAAWT,OAAX,CAAzB,CAAP;AACH,SAFiB,CAAlB;AAGH,OAJe,CAAhB;AAKH;AAbE,GAAP;AAeH,CAhBD;;AAiBA,IAAIa,eAAe,GAAG,aAAcd,gBAAgB,CAAC,WAAD,CAApD;AACA,IAAIe,qBAAqB,GAAG,aAAcf,gBAAgB,CAAC,kBAAD,CAA1D;AACA,IAAIgB,iBAAiB,GAAG,aAAchB,gBAAgB,CAAC,aAAD,CAAtD;AACA,IAAIiB,eAAe,GAAG,aAAcjB,gBAAgB,CAAC,WAAD,CAApD;AACA,IAAIkB,gBAAgB,GAAG,aAAclB,gBAAgB,CAAC,YAAD,CAArD;AACA,IAAImB,iBAAiB,GAAG,aAAcnB,gBAAgB,CAAC,aAAD,CAAtD;AACA,IAAIoB,eAAe,GAAG,aAAcpB,gBAAgB,CAAC,WAAD,CAApD;;AACA,IAAIqB,cAAc,GAAG,SAAjBA,cAAiB,CAAUC,EAAV,EAAc;AAC/B,MAAIC,GAAG,GAAGb,QAAV;AACAc,EAAAA,gBAAgB,CAACD,GAAD,CAAhB;AACA,MAAIE,YAAY,GAAG5B,MAAM,EAAzB;AACAyB,EAAAA,EAAE,CAACG,YAAH,GAAkBA,YAAlB;;AACA,MAAI,CAACH,EAAE,CAACI,YAAH,CAAgB,IAAhB,CAAL,EAA4B;AACxBJ,IAAAA,EAAE,CAACd,EAAH,GAAQ,iBAAiBiB,YAAzB;AACH;AACJ,CARD;;AASA,IAAIrB,aAAa,GAAG,SAAhBA,aAAgB,CAAUH,OAAV,EAAmB0B,IAAnB,EAAyB;AACzC,SAAOC,cAAc,CAACC,WAAf,CAA2B5B,OAA3B,EAAoC6B,IAApC,CAAyC,YAAY;AACxD,QAAIP,GAAG,GAAGb,QAAV;AACA,QAAIqB,OAAO,GAAGR,GAAG,CAACS,aAAJ,CAAkB/B,OAAlB,CAAd;AACA8B,IAAAA,OAAO,CAACE,SAAR,CAAkBC,GAAlB,CAAsB,gBAAtB,EAHwD,CAIxD;AACA;;AACAC,IAAAA,MAAM,CAACC,MAAP,CAAcL,OAAd,EAAuBJ,IAAvB,EANwD,CAOxD;;AACAU,IAAAA,UAAU,CAACd,GAAD,CAAV,CAAgBe,WAAhB,CAA4BP,OAA5B;AACA,WAAOA,OAAO,CAACQ,gBAAR,EAAP;AACH,GAVM,CAAP;AAWH,CAZD;;AAaA,IAAIf,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUD,GAAV,EAAe;AAClC,MAAI1B,MAAM,KAAK,CAAf,EAAkB;AACdA,IAAAA,MAAM,GAAG,CAAT,CADc,CAEd;;AACA0B,IAAAA,GAAG,CAACiB,gBAAJ,CAAqB,SAArB,EAAgC,UAAUC,EAAV,EAAc;AAC1C,UAAIC,WAAW,GAAG7B,UAAU,CAACU,GAAD,CAA5B;;AACA,UAAImB,WAAW,IAAIA,WAAW,CAACC,eAA3B,IAA8C,CAACC,YAAY,CAACF,WAAD,EAAcD,EAAE,CAACI,MAAjB,CAA/D,EAAyF;AACrF,YAAIC,UAAU,GAAGJ,WAAW,CAACK,aAAZ,CAA0B,cAA1B,CAAjB;;AACA,YAAID,UAAJ,EAAgB;AACZA,UAAAA,UAAU,CAACE,KAAX;AACH;AACJ;AACJ,KARD,EAHc,CAYd;;AACAzB,IAAAA,GAAG,CAACiB,gBAAJ,CAAqB,eAArB,EAAsC,UAAUC,EAAV,EAAc;AAChD,UAAIC,WAAW,GAAG7B,UAAU,CAACU,GAAD,CAA5B;;AACA,UAAImB,WAAW,IAAIA,WAAW,CAACC,eAA/B,EAAgD;AAC5CF,QAAAA,EAAE,CAACQ,MAAH,CAAUC,QAAV,CAAmBtD,4BAAnB,EAAiD,YAAY;AACzD,iBAAO8C,WAAW,CAACrC,OAAZ,CAAoB8C,SAApB,EAA+BC,QAA/B,CAAP;AACH,SAFD;AAGH;AACJ,KAPD,EAbc,CAqBd;;AACA7B,IAAAA,GAAG,CAACiB,gBAAJ,CAAqB,OAArB,EAA8B,UAAUC,EAAV,EAAc;AACxC,UAAIA,EAAE,CAACY,GAAH,KAAW,QAAf,EAAyB;AACrB,YAAIX,WAAW,GAAG7B,UAAU,CAACU,GAAD,CAA5B;;AACA,YAAImB,WAAW,IAAIA,WAAW,CAACC,eAA/B,EAAgD;AAC5CD,UAAAA,WAAW,CAACrC,OAAZ,CAAoB8C,SAApB,EAA+BC,QAA/B;AACH;AACJ;AACJ,KAPD;AAQH;AACJ,CAhCD;;AAiCA,IAAI3C,cAAc,GAAG,SAAjBA,cAAiB,CAAUc,GAAV,EAAejB,IAAf,EAAqBC,IAArB,EAA2B+C,UAA3B,EAAuC9C,EAAvC,EAA2C;AAC5D,MAAI+C,OAAO,GAAG1C,UAAU,CAACU,GAAD,EAAM+B,UAAN,EAAkB9C,EAAlB,CAAxB;;AACA,MAAI,CAAC+C,OAAL,EAAc;AACV,WAAOC,OAAO,CAACC,MAAR,CAAe,wBAAf,CAAP;AACH;;AACD,SAAOF,OAAO,CAAClD,OAAR,CAAgBC,IAAhB,EAAsBC,IAAtB,CAAP;AACH,CAND;;AAOA,IAAImD,WAAW,GAAG,SAAdA,WAAc,CAAUnC,GAAV,EAAeoC,QAAf,EAAyB;AACvC,MAAIA,QAAQ,KAAKR,SAAjB,EAA4B;AACxBQ,IAAAA,QAAQ,GAAG,mFAAX;AACH;;AACD,SAAOC,KAAK,CAACC,IAAN,CAAWtC,GAAG,CAACuC,gBAAJ,CAAqBH,QAArB,CAAX,EACFI,MADE,CACK,UAAUC,CAAV,EAAa;AAAE,WAAOA,CAAC,CAACvC,YAAF,GAAiB,CAAxB;AAA4B,GADhD,CAAP;AAEH,CAND;;AAOA,IAAIZ,UAAU,GAAG,SAAbA,UAAa,CAAUU,GAAV,EAAe+B,UAAf,EAA2B9C,EAA3B,EAA+B;AAC5C,MAAIyD,QAAQ,GAAGP,WAAW,CAACnC,GAAD,EAAM+B,UAAN,CAA1B;AACA,SAAQ9C,EAAE,KAAK2C,SAAR,GACDc,QAAQ,CAACA,QAAQ,CAACC,MAAT,GAAkB,CAAnB,CADP,GAEDD,QAAQ,CAACE,IAAT,CAAc,UAAUC,CAAV,EAAa;AAAE,WAAOA,CAAC,CAAC5D,EAAF,KAASA,EAAhB;AAAqB,GAAlD,CAFN;AAGH,CALD;;AAMA,IAAI6D,OAAO,GAAG,SAAVA,OAAU,CAAUd,OAAV,EAAmBe,IAAnB,EAAyBC,iBAAzB,EAA4CC,gBAA5C,EAA8D7C,IAA9D,EAAoE;AAAE,SAAOpC,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACrI,QAAIkF,gBAAJ,EAAsBC,SAAtB;AACA,WAAOlF,WAAW,CAAC,IAAD,EAAO,UAAUoB,EAAV,EAAc;AACnC,cAAQA,EAAE,CAAC+D,KAAX;AACI,aAAK,CAAL;AACI,cAAIpB,OAAO,CAACqB,SAAZ,EAAuB;AACnB,mBAAO,CAAC;AAAE;AAAH,aAAP;AACH;;AACDrB,UAAAA,OAAO,CAACqB,SAAR,GAAoB,IAApB;AACArB,UAAAA,OAAO,CAACsB,WAAR,CAAoBC,IAApB;AACAL,UAAAA,gBAAgB,GAAIlB,OAAO,CAACwB,cAAT,GACbxB,OAAO,CAACwB,cADK,GAEbpF,MAAM,CAACqF,GAAP,CAAWV,IAAX,EAAiBf,OAAO,CAAC0B,IAAR,KAAiB,KAAjB,GAAyBV,iBAAzB,GAA6CC,gBAA9D,CAFN;AAGA,iBAAO,CAAC;AAAE;AAAH,YAAcU,gBAAgB,CAAC3B,OAAD,EAAUkB,gBAAV,EAA4BlB,OAAO,CAACjC,EAApC,EAAwCK,IAAxC,CAA9B,CAAP;;AACJ,aAAK,CAAL;AACI+C,UAAAA,SAAS,GAAG9D,EAAE,CAACuE,IAAH,EAAZ;;AACA,cAAIT,SAAJ,EAAe;AACXnB,YAAAA,OAAO,CAAC6B,UAAR,CAAmBN,IAAnB;AACH;;AACD,iBAAO,CAAC;AAAE;AAAH,WAAP;AAhBR;AAkBH,KAnBiB,CAAlB;AAoBH,GAtBmG,CAAhB;AAsB/E,CAtBL;;AAuBA,IAAIzE,OAAO,GAAG,SAAVA,OAAU,CAAUkD,OAAV,EAAmBjD,IAAnB,EAAyBC,IAAzB,EAA+B+D,IAA/B,EAAqCe,iBAArC,EAAwDC,gBAAxD,EAA0E3D,IAA1E,EAAgF;AAAE,SAAOpC,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACjJ,QAAIkF,gBAAJ,EAAsBc,KAAtB;AACA,WAAO/F,WAAW,CAAC,IAAD,EAAO,UAAUoB,EAAV,EAAc;AACnC,cAAQA,EAAE,CAAC+D,KAAX;AACI,aAAK,CAAL;AACI,cAAI,CAACpB,OAAO,CAACqB,SAAb,EAAwB;AACpB,mBAAO,CAAC;AAAE;AAAH,cAAe,KAAf,CAAP;AACH;;AACDrB,UAAAA,OAAO,CAACqB,SAAR,GAAoB,KAApB;AACAhE,UAAAA,EAAE,CAAC+D,KAAH,GAAW,CAAX;;AACJ,aAAK,CAAL;AACI/D,UAAAA,EAAE,CAAC4E,IAAH,CAAQC,IAAR,CAAa,CAAC,CAAD,EAAI,CAAJ,GAAS,CAAT,CAAb;;AACAlC,UAAAA,OAAO,CAACmC,WAAR,CAAoBZ,IAApB,CAAyB;AAAExE,YAAAA,IAAI,EAAEA,IAAR;AAAcC,YAAAA,IAAI,EAAEA;AAApB,WAAzB;AACAkE,UAAAA,gBAAgB,GAAIlB,OAAO,CAACoC,cAAT,GACbpC,OAAO,CAACoC,cADK,GAEbhG,MAAM,CAACqF,GAAP,CAAWV,IAAX,EAAiBf,OAAO,CAAC0B,IAAR,KAAiB,KAAjB,GAAyBI,iBAAzB,GAA6CC,gBAA9D,CAFN;AAGA,cAAI,EAAE/E,IAAI,KAAK,SAAX,CAAJ,EAA2B,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AAC3B,iBAAO,CAAC;AAAE;AAAH,YAAc2E,gBAAgB,CAAC3B,OAAD,EAAUkB,gBAAV,EAA4BlB,OAAO,CAACjC,EAApC,EAAwCK,IAAxC,CAA9B,CAAP;;AACJ,aAAK,CAAL;AACIf,UAAAA,EAAE,CAACuE,IAAH;;AACAvE,UAAAA,EAAE,CAAC+D,KAAH,GAAW,CAAX;;AACJ,aAAK,CAAL;AACIpB,UAAAA,OAAO,CAACqC,UAAR,CAAmBd,IAAnB,CAAwB;AAAExE,YAAAA,IAAI,EAAEA,IAAR;AAAcC,YAAAA,IAAI,EAAEA;AAApB,WAAxB;AACAT,UAAAA,gBAAgB,CAAC+F,MAAjB,CAAwBtC,OAAxB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIgC,UAAAA,KAAK,GAAG3E,EAAE,CAACuE,IAAH,EAAR;AACAW,UAAAA,OAAO,CAACC,KAAR,CAAcR,KAAd;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIhC,UAAAA,OAAO,CAACjC,EAAR,CAAW0E,MAAX;AACA,iBAAO,CAAC;AAAE;AAAH,YAAe,IAAf,CAAP;AA5BR;AA8BH,KA/BiB,CAAlB;AAgCH,GAlC+G,CAAhB;AAkC3F,CAlCL;;AAmCA,IAAI3D,UAAU,GAAG,SAAbA,UAAa,CAAUd,GAAV,EAAe;AAC5B,SAAOA,GAAG,CAACwB,aAAJ,CAAkB,SAAlB,KAAgCxB,GAAG,CAAC0E,IAA3C;AACH,CAFD;;AAGA,IAAIf,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAU3B,OAAV,EAAmBkB,gBAAnB,EAAqCyB,MAArC,EAA6CvE,IAA7C,EAAmD;AAAE,SAAOpC,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AAC7H,QAAI4G,OAAJ,EAAaC,SAAb,EAAwBC,SAAxB;AACA,WAAO7G,WAAW,CAAC,IAAD,EAAO,UAAUoB,EAAV,EAAc;AACnC,cAAQA,EAAE,CAAC+D,KAAX;AACI,aAAK,CAAL;AACI;AACAuB,UAAAA,MAAM,CAACjE,SAAP,CAAiB+D,MAAjB,CAAwB,gBAAxB;AACAG,UAAAA,OAAO,GAAGD,MAAM,CAACI,UAAP,IAAqB/C,OAAO,CAACjC,EAAvC;AACA8E,UAAAA,SAAS,GAAG3B,gBAAgB,CAAC0B,OAAD,EAAUxE,IAAV,CAA5B;;AACA,cAAI,CAAC4B,OAAO,CAACgD,QAAT,IAAqB,CAAC5G,MAAM,CAAC6G,UAAP,CAAkB,UAAlB,EAA8B,IAA9B,CAA1B,EAA+D;AAC3DJ,YAAAA,SAAS,CAACK,QAAV,CAAmB,CAAnB;AACH;;AACD,cAAIlD,OAAO,CAACmD,aAAZ,EAA2B;AACvBN,YAAAA,SAAS,CAACO,cAAV,CAAyB,YAAY;AACjC,kBAAIC,aAAa,GAAGV,MAAM,CAACW,aAAP,CAAqBD,aAAzC;;AACA,kBAAIA,aAAa,IAAIA,aAAa,CAACE,OAAd,CAAsB,gCAAtB,CAArB,EAA8E;AAC1EF,gBAAAA,aAAa,CAACG,IAAd;AACH;AACJ,aALD;AAMH;;AACDV,UAAAA,SAAS,GAAGvG,gBAAgB,CAACkF,GAAjB,CAAqBzB,OAArB,KAAiC,EAA7C;AACAzD,UAAAA,gBAAgB,CAACkH,GAAjB,CAAqBzD,OAArB,EAA8B9D,cAAc,CAAC4G,SAAD,EAAY,CAACD,SAAD,CAAZ,CAA5C;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcA,SAAS,CAACa,IAAV,EAAd,CAAP;;AACJ,aAAK,CAAL;AACIrG,UAAAA,EAAE,CAACuE,IAAH;;AACA,iBAAO,CAAC;AAAE;AAAH,YAAe,IAAf,CAAP;AAtBR;AAwBH,KAzBiB,CAAlB;AA0BH,GA5B2F,CAAhB;AA4BvE,CA5BL;;AA6BA,IAAI+B,WAAW,GAAG,SAAdA,WAAc,CAAUnF,OAAV,EAAmBoF,SAAnB,EAA8B;AAC5C,MAAIC,OAAJ;AACA,MAAIC,OAAO,GAAG,IAAI7D,OAAJ,CAAY,UAAU8D,CAAV,EAAa;AAAE,WAAOF,OAAO,GAAGE,CAAjB;AAAqB,GAAhD,CAAd;AACAC,EAAAA,SAAS,CAACxF,OAAD,EAAUoF,SAAV,EAAqB,UAAUK,KAAV,EAAiB;AAC3CJ,IAAAA,OAAO,CAACI,KAAK,CAACvE,MAAP,CAAP;AACH,GAFQ,CAAT;AAGA,SAAOoE,OAAP;AACH,CAPD;;AAQA,IAAIE,SAAS,GAAG,SAAZA,SAAY,CAAUxF,OAAV,EAAmBoF,SAAnB,EAA8BM,QAA9B,EAAwC;AACpD,MAAIC,OAAO,GAAG,SAAVA,OAAU,CAAUjF,EAAV,EAAc;AACxBV,IAAAA,OAAO,CAAC4F,mBAAR,CAA4BR,SAA5B,EAAuCO,OAAvC;AACAD,IAAAA,QAAQ,CAAChF,EAAD,CAAR;AACH,GAHD;;AAIAV,EAAAA,OAAO,CAACS,gBAAR,CAAyB2E,SAAzB,EAAoCO,OAApC;AACH,CAND;;AAOA,IAAIE,QAAQ,GAAG,SAAXA,QAAW,CAAUrH,IAAV,EAAgB;AAC3B,SAAOA,IAAI,KAAK,QAAT,IAAqBA,IAAI,KAAK6C,QAArC;AACH,CAFD;;AAGA,IAAIR,YAAY,GAAG,SAAfA,YAAe,CAAUiF,MAAV,EAAkBC,KAAlB,EAAyB;AACxC,SAAOA,KAAP,EAAc;AACV,QAAIA,KAAK,KAAKD,MAAd,EAAsB;AAClB,aAAO,IAAP;AACH;;AACDC,IAAAA,KAAK,GAAGA,KAAK,CAACC,aAAd;AACH;;AACD,SAAO,KAAP;AACH,CARD;;AASA,IAAIC,WAAW,GAAG,SAAdA,WAAc,CAAUC,CAAV,EAAa;AAAE,SAAOA,CAAC,EAAR;AAAa,CAA9C;;AACA,IAAIC,QAAQ,GAAG,SAAXA,QAAW,CAAUR,OAAV,EAAmBS,GAAnB,EAAwB;AACnC,MAAI,OAAOT,OAAP,KAAmB,UAAvB,EAAmC;AAC/B,QAAIU,GAAG,GAAGzI,MAAM,CAACqF,GAAP,CAAW,WAAX,EAAwBgD,WAAxB,CAAV;AACA,WAAOI,GAAG,CAAC,YAAY;AACnB,UAAI;AACA,eAAOV,OAAO,CAACS,GAAD,CAAd;AACH,OAFD,CAGA,OAAOE,CAAP,EAAU;AACNvC,QAAAA,OAAO,CAACC,KAAR,CAAcsC,CAAd;AACH;AACJ,KAPS,CAAV;AAQH;;AACD,SAAOlF,SAAP;AACH,CAbD;;AAcA,IAAIC,QAAQ,GAAG,UAAf;AACA,SAASA,QAAQ,IAAIkF,CAArB,EAAwBxH,eAAe,IAAIyH,CAA3C,EAA8CxH,qBAAqB,IAAIrB,CAAvE,EAA0EyB,iBAAiB,IAAI6C,CAA/F,EAAkG3C,cAAc,IAAImH,CAApH,EAAuHnE,OAAO,IAAIgE,CAAlI,EAAqIhI,OAAO,IAAIoI,CAAhJ,EAAmJvB,WAAW,IAAIwB,CAAlK,EAAqK5I,gBAAgB,IAAImI,CAAzL,EAA4LL,QAAQ,IAAIe,CAAxM,EAA2M3H,iBAAiB,IAAI4H,CAAhO,EAAmO3H,eAAe,IAAI4H,CAAtP,EAAyP3H,gBAAgB,IAAI4H,CAA7Q,EAAgRZ,QAAQ,IAAIa,CAA5R,EAA+R3H,eAAe,IAAI4H,CAAlT","sourcesContent":["import { __awaiter, __generator, __spreadArrays } from \"tslib\";\nimport { b as config } from './config-3c7f3790.js';\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button-1ed0083a.js';\nvar lastId = 0;\nvar activeAnimations = new WeakMap();\nvar createController = function (tagName) {\n    return {\n        create: function (options) {\n            return createOverlay(tagName, options);\n        },\n        dismiss: function (data, role, id) {\n            return dismissOverlay(document, data, role, tagName, id);\n        },\n        getTop: function () {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, getOverlay(document, tagName)];\n                });\n            });\n        }\n    };\n};\nvar alertController = /*@__PURE__*/ createController('ion-alert');\nvar actionSheetController = /*@__PURE__*/ createController('ion-action-sheet');\nvar loadingController = /*@__PURE__*/ createController('ion-loading');\nvar modalController = /*@__PURE__*/ createController('ion-modal');\nvar pickerController = /*@__PURE__*/ createController('ion-picker');\nvar popoverController = /*@__PURE__*/ createController('ion-popover');\nvar toastController = /*@__PURE__*/ createController('ion-toast');\nvar prepareOverlay = function (el) {\n    var doc = document;\n    connectListeners(doc);\n    var overlayIndex = lastId++;\n    el.overlayIndex = overlayIndex;\n    if (!el.hasAttribute('id')) {\n        el.id = \"ion-overlay-\" + overlayIndex;\n    }\n};\nvar createOverlay = function (tagName, opts) {\n    return customElements.whenDefined(tagName).then(function () {\n        var doc = document;\n        var element = doc.createElement(tagName);\n        element.classList.add('overlay-hidden');\n        // convert the passed in overlay options into props\n        // that get passed down into the new overlay\n        Object.assign(element, opts);\n        // append the overlay element to the document body\n        getAppRoot(doc).appendChild(element);\n        return element.componentOnReady();\n    });\n};\nvar connectListeners = function (doc) {\n    if (lastId === 0) {\n        lastId = 1;\n        // trap focus inside overlays\n        doc.addEventListener('focusin', function (ev) {\n            var lastOverlay = getOverlay(doc);\n            if (lastOverlay && lastOverlay.backdropDismiss && !isDescendant(lastOverlay, ev.target)) {\n                var firstInput = lastOverlay.querySelector('input,button');\n                if (firstInput) {\n                    firstInput.focus();\n                }\n            }\n        });\n        // handle back-button click\n        doc.addEventListener('ionBackButton', function (ev) {\n            var lastOverlay = getOverlay(doc);\n            if (lastOverlay && lastOverlay.backdropDismiss) {\n                ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, function () {\n                    return lastOverlay.dismiss(undefined, BACKDROP);\n                });\n            }\n        });\n        // handle ESC to close overlay\n        doc.addEventListener('keyup', function (ev) {\n            if (ev.key === 'Escape') {\n                var lastOverlay = getOverlay(doc);\n                if (lastOverlay && lastOverlay.backdropDismiss) {\n                    lastOverlay.dismiss(undefined, BACKDROP);\n                }\n            }\n        });\n    }\n};\nvar dismissOverlay = function (doc, data, role, overlayTag, id) {\n    var overlay = getOverlay(doc, overlayTag, id);\n    if (!overlay) {\n        return Promise.reject('overlay does not exist');\n    }\n    return overlay.dismiss(data, role);\n};\nvar getOverlays = function (doc, selector) {\n    if (selector === undefined) {\n        selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\n    }\n    return Array.from(doc.querySelectorAll(selector))\n        .filter(function (c) { return c.overlayIndex > 0; });\n};\nvar getOverlay = function (doc, overlayTag, id) {\n    var overlays = getOverlays(doc, overlayTag);\n    return (id === undefined)\n        ? overlays[overlays.length - 1]\n        : overlays.find(function (o) { return o.id === id; });\n};\nvar present = function (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, completed;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (overlay.presented) {\n                    return [2 /*return*/];\n                }\n                overlay.presented = true;\n                overlay.willPresent.emit();\n                animationBuilder = (overlay.enterAnimation)\n                    ? overlay.enterAnimation\n                    : config.get(name, overlay.mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\n            case 1:\n                completed = _a.sent();\n                if (completed) {\n                    overlay.didPresent.emit();\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar dismiss = function (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, err_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!overlay.presented) {\n                    return [2 /*return*/, false];\n                }\n                overlay.presented = false;\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 4, , 5]);\n                overlay.willDismiss.emit({ data: data, role: role });\n                animationBuilder = (overlay.leaveAnimation)\n                    ? overlay.leaveAnimation\n                    : config.get(name, overlay.mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\n                if (!(role !== 'gesture')) return [3 /*break*/, 3];\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\n            case 2:\n                _a.sent();\n                _a.label = 3;\n            case 3:\n                overlay.didDismiss.emit({ data: data, role: role });\n                activeAnimations.delete(overlay);\n                return [3 /*break*/, 5];\n            case 4:\n                err_1 = _a.sent();\n                console.error(err_1);\n                return [3 /*break*/, 5];\n            case 5:\n                overlay.el.remove();\n                return [2 /*return*/, true];\n        }\n    });\n}); };\nvar getAppRoot = function (doc) {\n    return doc.querySelector('ion-app') || doc.body;\n};\nvar overlayAnimation = function (overlay, animationBuilder, baseEl, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var aniRoot, animation, activeAni;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                // Make overlay visible in case it's hidden\n                baseEl.classList.remove('overlay-hidden');\n                aniRoot = baseEl.shadowRoot || overlay.el;\n                animation = animationBuilder(aniRoot, opts);\n                if (!overlay.animated || !config.getBoolean('animated', true)) {\n                    animation.duration(0);\n                }\n                if (overlay.keyboardClose) {\n                    animation.beforeAddWrite(function () {\n                        var activeElement = baseEl.ownerDocument.activeElement;\n                        if (activeElement && activeElement.matches('input, ion-input, ion-textarea')) {\n                            activeElement.blur();\n                        }\n                    });\n                }\n                activeAni = activeAnimations.get(overlay) || [];\n                activeAnimations.set(overlay, __spreadArrays(activeAni, [animation]));\n                return [4 /*yield*/, animation.play()];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, true];\n        }\n    });\n}); };\nvar eventMethod = function (element, eventName) {\n    var resolve;\n    var promise = new Promise(function (r) { return resolve = r; });\n    onceEvent(element, eventName, function (event) {\n        resolve(event.detail);\n    });\n    return promise;\n};\nvar onceEvent = function (element, eventName, callback) {\n    var handler = function (ev) {\n        element.removeEventListener(eventName, handler);\n        callback(ev);\n    };\n    element.addEventListener(eventName, handler);\n};\nvar isCancel = function (role) {\n    return role === 'cancel' || role === BACKDROP;\n};\nvar isDescendant = function (parent, child) {\n    while (child) {\n        if (child === parent) {\n            return true;\n        }\n        child = child.parentElement;\n    }\n    return false;\n};\nvar defaultGate = function (h) { return h(); };\nvar safeCall = function (handler, arg) {\n    if (typeof handler === 'function') {\n        var jmp = config.get('_zoneGate', defaultGate);\n        return jmp(function () {\n            try {\n                return handler(arg);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        });\n    }\n    return undefined;\n};\nvar BACKDROP = 'backdrop';\nexport { BACKDROP as B, alertController as a, actionSheetController as b, popoverController as c, prepareOverlay as d, present as e, dismiss as f, eventMethod as g, activeAnimations as h, isCancel as i, loadingController as l, modalController as m, pickerController as p, safeCall as s, toastController as t };\n"]},"metadata":{},"sourceType":"module"}