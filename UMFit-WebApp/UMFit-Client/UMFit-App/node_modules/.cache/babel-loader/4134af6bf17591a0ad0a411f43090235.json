{"ast":null,"code":"var _jsxFileName = \"/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/UserProfile.tsx\";\nimport { IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonPage, IonRow, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { analyticsOutline, bicycle, calendarOutline, cardOutline, checkmarkDoneOutline, femaleOutline, informationCircleOutline, locationOutline, mailOutline, maleOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport './css/UserProfile.css';\nimport { HorizontalBar } from \"react-chartjs-2\";\nimport { estatisticasCliente } from \"../models/API/AulaGrupoAPI\";\nvar graphAulasGrupo = {\n  labels: [\"a\"],\n  datasets: [{\n    label: 'Número de aulas',\n    backgroundColor: 'rgb(206, 143, 27, 0.6)',\n    borderWidth: 1,\n    hoverBackgroundColor: 'rgb(196, 131, 11, 0.4)',\n    data: [1]\n  }]\n};\n\nclass UserProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.state = {\n      user: this.props.user,\n      stats: {\n        aulas_participadas: 0,\n        aula_preferida: \"Nenhuma\"\n      },\n      graphStatsValues: []\n    };\n  }\n\n  async componentDidMount() {\n    console.log(\"In user profile:\");\n    console.log(this.props.user); //debug\n\n    this.setState({\n      user: this.props.user //user: getTestValueUser()\n\n    }); //---------------------------------------------------------------------------\n\n    const res = await estatisticasCliente();\n    res.json().then(data => {\n      var sum = 0;\n      data.forEach(element => {\n        sum += element.Value;\n      });\n      this.setState({\n        graphStatsValues: data,\n        stats: {\n          aulas_participadas: sum,\n          aula_preferida: data[0].Key\n        }\n      });\n    }); //---------------------------------------------------------------------------\n  }\n\n  render() {\n    console.log(graphAulasGrupo);\n    var labelsAulas = [];\n    var numbAulas = [];\n    var options = {\n      scales: {\n        xAxes: [{\n          ticks: {\n            min: 0,\n            stepSize: 1\n          }\n        }]\n      }\n    };\n    this.state.graphStatsValues.forEach(elem => labelsAulas.push(elem.Key));\n    this.state.graphStatsValues.forEach(elem => numbAulas.push(elem.Value));\n    graphAulasGrupo.labels = labelsAulas;\n    graphAulasGrupo.datasets[0].data = numbAulas;\n    console.log(graphAulasGrupo);\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(IonTitle, {\n      id: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Ol\\xE1 \", this.state.user.nome, \"!\"))), React.createElement(IonContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(IonGrid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(IonCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(IonCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(IonCardHeader, {\n      className: \"cardFirst\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"profilePic\",\n      src: require('../imgs/perfil_pic.png'),\n      alt: \"Loading...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(IonCardSubtitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.state.user.categoria), React.createElement(IonCardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.state.user.nome))))), React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(IonCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(IonCard, {\n      className: \"cardSecond\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(IonCardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(IonCardTitle, {\n      className: \"estatisticasHeaderTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: analyticsOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), \"\\xA0Minhas informa\\xE7\\xF5es:\")), React.createElement(IonCardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: informationCircleOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"\\xA0\"), this.state.user.tipoDeUser, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: mailOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \" E-Mail:\"), \" \", this.state.user.email, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), this.state.user.genero === 1 ? React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: maleOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }) : React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: femaleOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \" G\\xE9nero:\"), \" \", this.state.user.genero === 1 ? \"Masculino\" : \"Feminino\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: locationOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \" Localidade:\"), \" \", this.state.user.localidade, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: calendarOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \" Data de Nascimento:\"), \" \", this.state.user.data_nascimento.substr(0, this.state.user.data_nascimento.indexOf('T')), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(IonIcon, {\n      slot: \"start\",\n      icon: cardOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \" NIF:\"), \" \", this.state.user.nif)))), this.state.user.tipoDeUser === \"Cliente\" && React.createElement(React.Fragment, null, React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(IonCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(IonCard, {\n      className: \"cardSecond\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(IonCardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(IonCardTitle, {\n      className: \"estatisticasHeaderTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: analyticsOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), \"\\xA0Atividades:\")), React.createElement(IonCardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(IonCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(IonCard, {\n      className: \"cardStats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(IonCardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(IonCardTitle, {\n      className: \"estatisticasSingle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: bicycle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), \"\\xA0N\\xFAmero de aulas participadas: \", this.state.stats.aulas_participadas))))), React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(IonCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(IonCard, {\n      className: \"cardStats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(IonCardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(IonCardTitle, {\n      className: \"estatisticasSingle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: checkmarkDoneOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), \"\\xA0Aula preferida: \", this.state.stats.aula_preferida))))), React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(HorizontalBar, {\n      options: options,\n      data: graphAulasGrupo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }))))))))));\n  }\n\n}\n/*\n<IonContent class=\"background-image\"></IonContent>\n*/\n\n\nexport default UserProfile;","map":{"version":3,"sources":["/home/hc/Desktop/li4_umfit/UMFit-WebApp/UMFit-Client/UMFit-App/src/pages/UserProfile.tsx"],"names":["IonCard","IonCardContent","IonCardHeader","IonCardSubtitle","IonCardTitle","IonCol","IonContent","IonGrid","IonHeader","IonIcon","IonPage","IonRow","IonTitle","IonToolbar","analyticsOutline","bicycle","calendarOutline","cardOutline","checkmarkDoneOutline","femaleOutline","informationCircleOutline","locationOutline","mailOutline","maleOutline","React","HorizontalBar","estatisticasCliente","graphAulasGrupo","labels","datasets","label","backgroundColor","borderWidth","hoverBackgroundColor","data","UserProfile","Component","constructor","props","state","user","stats","aulas_participadas","aula_preferida","graphStatsValues","componentDidMount","console","log","setState","res","json","then","sum","forEach","element","Value","Key","render","labelsAulas","numbAulas","options","scales","xAxes","ticks","min","stepSize","elem","push","nome","require","categoria","tipoDeUser","email","genero","localidade","data_nascimento","substr","indexOf","nif"],"mappings":";AACA,SAASA,OAAT,EAAkBC,cAAlB,EAAkCC,aAAlC,EAAiDC,eAAjD,EAAkEC,YAAlE,EAAgFC,MAAhF,EAAwFC,UAAxF,EAAoGC,OAApG,EAA6GC,SAA7G,EAAwHC,OAAxH,EAAiIC,OAAjI,EAA0IC,MAA1I,EAAkJC,QAAlJ,EAA4JC,UAA5J,QAA8K,cAA9K;AACA,SAASC,gBAAT,EAA2BC,OAA3B,EAAoCC,eAApC,EAAqDC,WAArD,EAAkEC,oBAAlE,EAAwFC,aAAxF,EAAuGC,wBAAvG,EAAiIC,eAAjI,EAAkJC,WAAlJ,EAA+JC,WAA/J,QAAkL,gBAAlL;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,uBAAP;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,mBAAT,QAAoC,4BAApC;AAEA,IAAIC,eAAe,GAAG;AACpBC,EAAAA,MAAM,EAAE,CAAC,GAAD,CADY;AAEpBC,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,KAAK,EAAE,iBADT;AAEEC,IAAAA,eAAe,EAAE,wBAFnB;AAGEC,IAAAA,WAAW,EAAE,CAHf;AAIEC,IAAAA,oBAAoB,EAAE,wBAJxB;AAKEC,IAAAA,IAAI,EAAE,CAAC,CAAD;AALR,GADQ;AAFU,CAAtB;;AAwBA,MAAMC,WAAN,SAA0BX,KAAK,CAACY,SAAhC,CAA+C;AAQ7CC,EAAAA,WAAW,CAACC,KAAD,EAAa;AAEtB,UAAMA,KAAN;AAFsB,SANxBC,KAMwB;AAItB,SAAKA,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IADN;AAEXC,MAAAA,KAAK,EAAE;AACHC,QAAAA,kBAAkB,EAAE,CADjB;AAEHC,QAAAA,cAAc,EAAE;AAFb,OAFI;AAMXC,MAAAA,gBAAgB,EAAE;AANP,KAAb;AASD;;AAED,QAAMC,iBAAN,GAA0B;AAExBC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWE,IAAvB,EAHwB,CAKxB;;AACA,SAAKQ,QAAL,CAAc;AACZR,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IADL,CAEZ;;AAFY,KAAd,EANwB,CAWxB;;AAEA,UAAMS,GAAG,GAAG,MAAMvB,mBAAmB,EAArC;AAEAuB,IAAAA,GAAG,CAACC,IAAJ,GAAWC,IAAX,CAAiBjB,IAAD,IAAU;AAExB,UAAIkB,GAAG,GAAG,CAAV;AACAlB,MAAAA,IAAI,CAACmB,OAAL,CAAcC,OAAD,IAAiB;AAC5BF,QAAAA,GAAG,IAAEE,OAAO,CAACC,KAAb;AACD,OAFD;AAIA,WAAKP,QAAL,CAAc;AACZJ,QAAAA,gBAAgB,EAAEV,IADN;AAEZO,QAAAA,KAAK,EAAE;AAAEC,UAAAA,kBAAkB,EAAEU,GAAtB;AAA2BT,UAAAA,cAAc,EAAET,IAAI,CAAC,CAAD,CAAJ,CAAQsB;AAAnD;AAFK,OAAd;AAID,KAXD,EAfwB,CA4BxB;AACD;;AAEDC,EAAAA,MAAM,GAAG;AAEPX,IAAAA,OAAO,CAACC,GAAR,CAAYpB,eAAZ;AACA,QAAI+B,WAAsB,GAAG,EAA7B;AACA,QAAIC,SAAoB,GAAG,EAA3B;AACA,QAAIC,OAAO,GAAG;AACZC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAE,CAAC;AACNC,UAAAA,KAAK,EAAE;AACJC,YAAAA,GAAG,EAAE,CADD;AAEJC,YAAAA,QAAQ,EAAE;AAFN;AADD,SAAD;AADD;AADI,KAAd;AASA,SAAK1B,KAAL,CAAWK,gBAAX,CAA4BS,OAA5B,CAAqCa,IAAD,IAAUR,WAAW,CAACS,IAAZ,CAAiBD,IAAI,CAACV,GAAtB,CAA9C;AACA,SAAKjB,KAAL,CAAWK,gBAAX,CAA4BS,OAA5B,CAAqCa,IAAD,IAAUP,SAAS,CAACQ,IAAV,CAAeD,IAAI,CAACX,KAApB,CAA9C;AAEA5B,IAAAA,eAAe,CAACC,MAAhB,GAAyB8B,WAAzB;AACA/B,IAAAA,eAAe,CAACE,QAAhB,CAAyB,CAAzB,EAA4BK,IAA5B,GAAmCyB,SAAnC;AAEAb,IAAAA,OAAO,CAACC,GAAR,CAAYpB,eAAZ;AACA,WAEA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA+B,KAAKY,KAAL,CAAWC,IAAX,CAAgB4B,IAA/C,MADF,CADJ,CAFR,EAQI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAII,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,aAAD;AAAe,MAAA,SAAS,EAAC,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,GAAG,EAAEC,OAAO,CAAC,wBAAD,CAAxC;AAAoE,MAAA,GAAG,EAAC,YAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAIE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB,KAAK9B,KAAL,CAAWC,IAAX,CAAgB8B,SAAlC,CAJF,EAKE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAe,KAAK/B,KAAL,CAAWC,IAAX,CAAgB4B,IAA/B,CALF,CAFF,CAFF,CAFF,CAJJ,EA0BI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,yBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEtD,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,kCADF,CAFF,EASE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAEM,wBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,EAGgB,KAAKmB,KAAL,CAAWC,IAAX,CAAgB+B,UAHhC,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAEjD,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,OAMmB,KAAKiB,KAAL,CAAWC,IAAX,CAAgBgC,KANnC,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EASI,KAAKjC,KAAL,CAAWC,IAAX,CAAgBiC,MAAhB,KAA2B,CAA3B,GACA,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAElD,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,GAGA,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAEJ,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAdF,OAcmB,KAAKoB,KAAL,CAAWC,IAAX,CAAgBiC,MAAhB,KAAyB,CAAzB,GAA6B,WAA7B,GAA2C,UAd9D,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfF,EAgBE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAEpD,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjBF,OAiBuB,KAAKkB,KAAL,CAAWC,IAAX,CAAgBkC,UAjBvC,EAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBF,EAmBE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAE1D,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBF,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BApBF,OAoB+B,KAAKuB,KAAL,CAAWC,IAAX,CAAgBmC,eAAhB,CAAgCC,MAAhC,CAAuC,CAAvC,EAA0C,KAAKrC,KAAL,CAAWC,IAAX,CAAgBmC,eAAhB,CAAgCE,OAAhC,CAAwC,GAAxC,CAA1C,CApB/B,EAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,EAsBE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAE5D,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBF,EAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAvBF,OAuBgB,KAAKsB,KAAL,CAAWC,IAAX,CAAgBsC,GAvBhC,CATF,CAFJ,CAFJ,CA1BJ,EA0EM,KAAKvC,KAAL,CAAWC,IAAX,CAAgB+B,UAAhB,KAA6B,SAA7B,IAEE,0CAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,yBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEzD,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,oBADJ,CAFA,EASA,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,oBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,2CAEqC,KAAKwB,KAAL,CAAWE,KAAX,CAAiBC,kBAFtD,CADJ,CAFA,CADJ,CAFA,CAFR,EAiBQ,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,oBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAExB,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,0BAEuB,KAAKqB,KAAL,CAAWE,KAAX,CAAiBE,cAFxC,CADJ,CAFA,CADA,CADJ,CAjBR,EAiCQ,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEiB,OAAxB;AAAiC,MAAA,IAAI,EAAEjC,eAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAjCR,CATA,CAFJ,CAFJ,CAFJ,CA5ER,CAFA,CARJ,CAFA;AA8JD;;AAzO4C;AA4O/C;;;;;AAIA,eAAeQ,WAAf","sourcesContent":["\nimport { IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonPage, IonRow, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { analyticsOutline, bicycle, calendarOutline, cardOutline, checkmarkDoneOutline, femaleOutline, informationCircleOutline, locationOutline, mailOutline, maleOutline } from \"ionicons/icons\";\nimport React from \"react\";\nimport { User } from \"../models/Other/User\";\nimport './css/UserProfile.css';\nimport { HorizontalBar } from \"react-chartjs-2\";\nimport { estatisticasCliente } from \"../models/API/AulaGrupoAPI\";\n\nvar graphAulasGrupo = {\n  labels: [\"a\"],\n  datasets: [\n    {\n      label: 'Número de aulas',\n      backgroundColor: 'rgb(206, 143, 27, 0.6)',\n      borderWidth: 1,\n      hoverBackgroundColor: 'rgb(196, 131, 11, 0.4)',\n      data: [1]\n    }\n  ]\n};\n\ninterface PersonalStats {\n\n    aulas_participadas: number,\n    aula_preferida: string\n}\n\ninterface MapStatsEntry {\n  Key : string,\n  Value: number\n}\n\nclass UserProfile extends React.Component<any> {\n\n  state: {\n    user: User,\n    stats: PersonalStats,\n    graphStatsValues: MapStatsEntry[]\n  }\n\n  constructor(props: any) {\n\n    super(props);\n\n    this.state = {\n      user: this.props.user,\n      stats: {\n          aulas_participadas: 0,\n          aula_preferida: \"Nenhuma\"\n      },\n      graphStatsValues: []\n    }\n\n  }\n\n  async componentDidMount() {\n\n    console.log(\"In user profile:\");\n    console.log(this.props.user);\n\n    //debug\n    this.setState({\n      user: this.props.user\n      //user: getTestValueUser()\n    });\n\n    //---------------------------------------------------------------------------\n\n    const res = await estatisticasCliente();\n\n    res.json().then((data) => {\n      \n      var sum = 0;\n      data.forEach((element:any) => {\n        sum+=element.Value;\n      });\n\n      this.setState({\n        graphStatsValues: data,\n        stats: { aulas_participadas: sum, aula_preferida: data[0].Key }\n      });\n    });\n\n    //---------------------------------------------------------------------------\n  }\n\n  render() {\n\n    console.log(graphAulasGrupo);\n    var labelsAulas : string[] = [];\n    var numbAulas : number[] = [];\n    var options = {\n      scales: {\n        xAxes: [{\n          ticks: {\n             min: 0,\n             stepSize: 1\n           }\n         }]\n        }}\n    this.state.graphStatsValues.forEach((elem) => labelsAulas.push(elem.Key));\n    this.state.graphStatsValues.forEach((elem) => numbAulas.push(elem.Value));\n\n    graphAulasGrupo.labels = labelsAulas;\n    graphAulasGrupo.datasets[0].data = numbAulas;\n\n    console.log(graphAulasGrupo);\n    return(\n\n    <IonPage>\n            \n            <IonHeader>\n                <IonToolbar color=\"primary\">\n                  <IonTitle id=\"page-title\">Olá {this.state.user.nome}!</IonTitle>\n                </IonToolbar>\n            </IonHeader>\n        \n        <IonContent>\n\n        <IonGrid>\n\n          {/* ------------------------------------------------------------------------- */}\n\n            <IonRow>\n\n              <IonCol>\n\n                <IonCard>\n\n                  <IonCardHeader className=\"cardFirst\">\n\n                    <img className=\"profilePic\" src={require('../imgs/perfil_pic.png')} alt=\"Loading...\"/>\n                    \n                    <IonCardSubtitle>{this.state.user.categoria}</IonCardSubtitle>\n                    <IonCardTitle>{this.state.user.nome}</IonCardTitle>\n\n                  </IonCardHeader>\n\n\n                </IonCard>\n\n              </IonCol>\n\n            </IonRow>\n\n            <IonRow>\n\n                <IonCol>\n\n                    <IonCard className=\"cardSecond\">\n\n                      <IonCardHeader>\n                        <IonCardTitle className=\"estatisticasHeaderTitle\">\n                          <IonIcon icon={analyticsOutline}></IonIcon>\n                          &nbsp;Minhas informações:\n                        </IonCardTitle>\n                      </IonCardHeader>\n\n                      <IonCardContent>\n\n                          <IonIcon slot=\"start\" icon={informationCircleOutline} />\n                        <b>&nbsp;</b>{this.state.user.tipoDeUser}\n                        <br></br>\n                        <IonIcon slot=\"start\" icon={mailOutline} />\n                        <b> E-Mail:</b> {this.state.user.email}\n                        <br></br>\n                        {\n                          this.state.user.genero === 1 ?\n                          <IonIcon slot=\"start\" icon={maleOutline} />\n                          :\n                          <IonIcon slot=\"start\" icon={femaleOutline} />\n                        }\n                        <b> Género:</b> {this.state.user.genero===1 ? \"Masculino\" : \"Feminino\"}\n                        <br></br>\n                        <IonIcon slot=\"start\" icon={locationOutline} />\n                        <b> Localidade:</b> {this.state.user.localidade}\n                        <br></br>\n                        <IonIcon slot=\"start\" icon={calendarOutline} />\n                        <b> Data de Nascimento:</b> {this.state.user.data_nascimento.substr(0, this.state.user.data_nascimento.indexOf('T'))}\n                        <br></br>\n                        <IonIcon slot=\"start\" icon={cardOutline} />\n                        <b> NIF:</b> {this.state.user.nif}\n\n                      </IonCardContent>\n\n                    </IonCard>\n\n                </IonCol>\n\n            </IonRow>\n            \n          {/* ------------------------------------------------------------------------- */}\n          \n            { this.state.user.tipoDeUser===\"Cliente\" &&\n\n                <>\n\n                    <IonRow>\n\n                        <IonCol>\n\n                            <IonCard className=\"cardSecond\">\n                            \n                            <IonCardHeader>\n                                <IonCardTitle className=\"estatisticasHeaderTitle\">\n                                <IonIcon icon={analyticsOutline}></IonIcon>\n                                &nbsp;Atividades:\n                                </IonCardTitle>\n                            </IonCardHeader>\n\n                            <IonCardContent>\n                                    \n                                    <IonRow>\n\n                                    <IonCol>\n                                        <IonCard className=\"cardStats\">\n\n                                        <IonCardHeader>\n                                            <IonCardTitle className=\"estatisticasSingle\">\n                                            <IonIcon icon={bicycle}></IonIcon>\n                                            &nbsp;Número de aulas participadas: {this.state.stats.aulas_participadas}\n                                            </IonCardTitle>\n                                        </IonCardHeader>\n\n                                        </IonCard>\n                                    </IonCol>\n                                    </IonRow>\n                                    <IonRow>\n                                        <IonCol>\n                                        <IonCard className=\"cardStats\">\n\n                                        <IonCardHeader>\n                                            <IonCardTitle className=\"estatisticasSingle\">\n                                            <IonIcon icon={checkmarkDoneOutline}></IonIcon>\n                                            &nbsp;Aula preferida: {this.state.stats.aula_preferida}\n                                            </IonCardTitle>\n                                        </IonCardHeader>\n\n                                        </IonCard>\n                                    </IonCol>\n\n                                    </IonRow>\n\n                                    <IonRow>\n\n                                        <HorizontalBar options={options} data={graphAulasGrupo} />\n\n                                    </IonRow>\n\n                            </IonCardContent>\n\n                            </IonCard>\n\n                        </IonCol>\n\n                </IonRow>          \n                </>\n            }\n\n          </IonGrid>\n\n          </IonContent>\n          \n        </IonPage>\n    );\n  }\n}\n\n/*\n<IonContent class=\"background-image\"></IonContent>\n*/\n\nexport default UserProfile;\n"]},"metadata":{},"sourceType":"module"}